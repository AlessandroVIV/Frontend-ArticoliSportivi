<h1 class="titolo">Storico Ordini</h1>

<ng-container *ngIf="ordini.length === 0">
  <div class="ordine-vuoto">
    <p class="no-ordini">
      Nessun ordine effettuato...<br />
      Vai a fare il tuo primo ordine!
    </p>
    <button routerLink="/articoli" class="btn-torna">
      Vai al catalogo degli articoli
    </button>
  </div>
</ng-container>

<div *ngFor="let ordine of ordini" class="ordine-card">
  <!-- Header ordine -->
  <div class="ordine-header">
    <h3>Ordine #{{ ordine.id }}</h3>
    <span class="data-ordine">{{
      ordine.dataOrdine | date : "dd/MM/yyyy, HH:mm"
    }}</span>
    <p class="indirizzo" *ngIf="ordine.indirizzo">
      Indirizzo: {{ ordine.indirizzo }}
    </p>
    <p class="totale-ordine">
      Totale:
      {{ calcolaTotale(ordine) | currency : "EUR" : "symbol" : "1.2-2" }}
    </p>
  </div>

  <!-- Lista articoli -->
  <div class="articoli-container">
    <div *ngFor="let item of ordine.items" class="articolo-item">
      <img
        class="articolo-foto"
        [src]="item.articolo.urlImmagine"
        alt="{{ item.articolo.nomeArticolo }}"
      />
      <div class="articolo-info">
        <p class="nome-articolo">{{ item.articolo.nomeArticolo }}</p>
        <p>Taglia: {{ item.taglia || "Tutte le taglie" }}</p>
        <p>Quantit√†: {{ item.quantita }}</p>
        <p>
          Prezzo:
          {{ item.prezzoTotale | currency : "EUR" : "symbol" : "1.2-2" }}
        </p>
      </div>
    </div>
  </div>
</div>
